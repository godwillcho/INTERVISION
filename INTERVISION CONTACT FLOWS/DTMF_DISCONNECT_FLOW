{"Version":"2019-10-30","StartAction":"ff6461b1-7da5-4dc7-8c1d-8f9a91bb187d","Metadata":{"entryPointPosition":{"x":-414.4,"y":70.4},"ActionMetadata":{"89861a45-c5b2-45e4-bde0-42e942c4bc5a":{"position":{"x":-149.6,"y":66.4}},"ff6461b1-7da5-4dc7-8c1d-8f9a91bb187d":{"position":{"x":-298.4,"y":-151.2}},"Closing remarks":{"position":{"x":2137.6,"y":-231.2},"isFriendlyName":true},"4c3ac588-7ba4-4792-8fda-83b18874c5d8":{"position":{"x":42.4,"y":-240},"overrideConsoleVoice":false},"9490d0f3-5f49-4d4e-8f82-f02e302b99b6":{"position":{"x":2014.4,"y":25.6}},"8bea47c6-6a0e-4e56-8f4e-ce8a905e0e3d":{"position":{"x":206.4,"y":-7.2},"dynamicParams":[]},"Error line":{"position":{"x":627.2,"y":165.6},"isFriendlyName":true,"parameters":{"PromptId":{"displayName":"Music_Pop_ThisAndThatIsLife_Inst.wav"}},"promptName":"Music_Pop_ThisAndThatIsLife_Inst.wav"},"Welcome":{"position":{"x":507.2,"y":-244},"isFriendlyName":true},"Extracts questions from database":{"position":{"x":864.8,"y":-63.2},"isFriendlyName":true,"parameters":{"LambdaFunctionARN":{"displayName":"INTERVISIONOutbound_campaign"}},"dynamicMetadata":{}},"c99f517e-47cf-49df-bb5b-dc9591ce08e6":{"position":{"x":1778.4,"y":-298.4},"conditions":[],"conditionMetadata":[{"id":"eef0988b-0b3a-456c-83a1-99f18266fce6","operator":{"name":"Is less or equal","value":"LessThanOrEqualTo","shortDisplay":"<="},"value":"$.Attributes.question_control_index"}]},"Error":{"position":{"x":1719.2,"y":-7.2},"isFriendlyName":true},"9d04bc16-8a30-4775-a26c-3b4fbac84a8c":{"position":{"x":1167.2,"y":-75.2},"conditionMetadata":[],"countryCodePrefix":"+1"},"saves customer input":{"position":{"x":1456,"y":-118.4},"isFriendlyName":true,"parameters":{"LambdaFunctionARN":{"displayName":"Intervision_save_outbound_campain"},"LambdaInvocationAttributes":{"answer_value":{"useDynamic":true}}},"dynamicMetadata":{"answer_value":true}}},"Annotations":[],"name":"DTMF_DISCONNECT_FLOW","description":"","type":"contactFlow","status":"PUBLISHED","hash":{}},"Actions":[{"Parameters":{"RecordingBehavior":{"RecordedParticipants":[]}},"Identifier":"89861a45-c5b2-45e4-bde0-42e942c4bc5a","Type":"UpdateContactRecordingBehavior","Transitions":{"NextAction":"4c3ac588-7ba4-4792-8fda-83b18874c5d8"}},{"Parameters":{"FlowLoggingBehavior":"Enabled"},"Identifier":"ff6461b1-7da5-4dc7-8c1d-8f9a91bb187d","Type":"UpdateFlowLoggingBehavior","Transitions":{"NextAction":"89861a45-c5b2-45e4-bde0-42e942c4bc5a"}},{"Parameters":{"Text":"Thank you for your time. We greatly appreciate."},"Identifier":"Closing remarks","Type":"MessageParticipant","Transitions":{"NextAction":"9490d0f3-5f49-4d4e-8f82-f02e302b99b6","Errors":[{"NextAction":"9490d0f3-5f49-4d4e-8f82-f02e302b99b6","ErrorType":"NoMatchingError"}]}},{"Parameters":{"TextToSpeechVoice":"Matthew"},"Identifier":"4c3ac588-7ba4-4792-8fda-83b18874c5d8","Type":"UpdateContactTextToSpeechVoice","Transitions":{"NextAction":"8bea47c6-6a0e-4e56-8f4e-ce8a905e0e3d"}},{"Parameters":{},"Identifier":"9490d0f3-5f49-4d4e-8f82-f02e302b99b6","Type":"DisconnectParticipant","Transitions":{}},{"Parameters":{"Attributes":{"loop_control":"1","questions":"None","question_control_index":"0"},"TargetContact":"Current"},"Identifier":"8bea47c6-6a0e-4e56-8f4e-ce8a905e0e3d","Type":"UpdateContactAttributes","Transitions":{"NextAction":"Welcome","Errors":[{"NextAction":"Error line","ErrorType":"NoMatchingError"}]}},{"Parameters":{"PromptId":"arn:aws:connect:us-west-2:525618997575:instance/1849df04-e6e3-4ee0-ba9a-60f9367efcf6/prompt/d79eb046-a782-4ec8-8528-c5ae3c6d124a"},"Identifier":"Error line","Type":"MessageParticipant","Transitions":{"NextAction":"9490d0f3-5f49-4d4e-8f82-f02e302b99b6","Errors":[{"NextAction":"9490d0f3-5f49-4d4e-8f82-f02e302b99b6","ErrorType":"NoMatchingError"}]}},{"Parameters":{"SSML":"<speak>\n<prosody rate='medium' pitch='high'>\n\nThank you for staying on the line to take the survey. <break time='0.5s'/>\nPlease, save each input with a pound sign or #\n\n</prosody>\n</speak>"},"Identifier":"Welcome","Type":"MessageParticipant","Transitions":{"NextAction":"Extracts questions from database","Errors":[{"NextAction":"Error line","ErrorType":"NoMatchingError"}]}},{"Parameters":{"LambdaFunctionARN":"arn:aws:lambda:us-west-2:525618997575:function:INTERVISIONOutbound_campaign","InvocationTimeLimitSeconds":"3","ResponseValidation":{"ResponseType":"STRING_MAP"}},"Identifier":"Extracts questions from database","Type":"InvokeLambdaFunction","Transitions":{"NextAction":"9d04bc16-8a30-4775-a26c-3b4fbac84a8c","Errors":[{"NextAction":"Error","ErrorType":"NoMatchingError"}]}},{"Parameters":{"ComparisonValue":"$.Attributes.loop_control"},"Identifier":"c99f517e-47cf-49df-bb5b-dc9591ce08e6","Type":"Compare","Transitions":{"NextAction":"Closing remarks","Conditions":[{"NextAction":"Extracts questions from database","Condition":{"Operator":"NumberLessOrEqualTo","Operands":["$.Attributes.question_control_index"]}}],"Errors":[{"NextAction":"Closing remarks","ErrorType":"NoMatchingCondition"}]}},{"Parameters":{"Text":"An error occurred, please try again later"},"Identifier":"Error","Type":"MessageParticipant","Transitions":{"NextAction":"9490d0f3-5f49-4d4e-8f82-f02e302b99b6","Errors":[{"NextAction":"9490d0f3-5f49-4d4e-8f82-f02e302b99b6","ErrorType":"NoMatchingError"}]}},{"Parameters":{"StoreInput":"True","InputTimeLimitSeconds":"5","SSML":"<speak>\n$.Attributes.questions\n</speak>","DTMFConfiguration":{"DisableCancelKey":"False","InputTerminationSequence":"#"},"InputValidation":{"CustomValidation":{"MaximumLength":"2"}}},"Identifier":"9d04bc16-8a30-4775-a26c-3b4fbac84a8c","Type":"GetParticipantInput","Transitions":{"NextAction":"saves customer input","Errors":[{"NextAction":"Error","ErrorType":"NoMatchingError"}]}},{"Parameters":{"LambdaFunctionARN":"arn:aws:lambda:us-west-2:525618997575:function:Intervision_save_outbound_campain","InvocationTimeLimitSeconds":"3","LambdaInvocationAttributes":{"answer_value":"$.StoredCustomerInput"},"ResponseValidation":{"ResponseType":"STRING_MAP"}},"Identifier":"saves customer input","Type":"InvokeLambdaFunction","Transitions":{"NextAction":"c99f517e-47cf-49df-bb5b-dc9591ce08e6","Errors":[{"NextAction":"Error","ErrorType":"NoMatchingError"}]}}]}