{"Version":"2019-10-30","StartAction":"b35e71b3-1601-4e72-9718-30032951d08b","Metadata":{"entryPointPosition":{"x":-1631.2,"y":150.4},"ActionMetadata":{"f20f35d9-9632-462c-b139-b4494d1d98c1":{"position":{"x":900,"y":535.2}},"d24bba20-ac5d-4582-a7b0-93440ba7a225":{"position":{"x":-583.2,"y":476}},"9562a672-8a4a-4fdd-b0ec-0de377ec7960":{"position":{"x":-489.6,"y":25.6},"conditionMetadata":[{"id":"8247ade9-3787-44fe-b1b4-cb4f92426da7","value":"1"},{"id":"e2636708-7f8f-4844-b896-f49124f0bb6d","value":"2"}]},"f68e3c47-0987-46e4-8de8-2af1db04b520":{"position":{"x":881.6,"y":116.8}},"Lang1b":{"position":{"x":310.4,"y":-177.6},"isFriendlyName":true,"overrideConsoleVoice":false},"Lang2b":{"position":{"x":323.2,"y":465.6},"isFriendlyName":true,"overrideConsoleVoice":false},"Language2 voice":{"position":{"x":-233.6,"y":233.6},"isFriendlyName":true,"overrideConsoleVoice":false},"33ccf42f-2dd5-4a7b-8691-5bb3bce181cb":{"position":{"x":20,"y":-209.6},"conditionMetadata":[{"id":"8a4e2360-3907-4d43-923f-237ff1d0548f","value":"1"},{"id":"00349c75-02ba-41fe-8e29-62b683d09aec","value":"2"}]},"11a9e785-d995-4524-9680-abb55a68f2e5":{"position":{"x":1362.4,"y":211.2}},"Language to use in flow1":{"position":{"x":622.4,"y":-188.8},"isFriendlyName":true,"dynamicParams":[]},"Language to use in flow2":{"position":{"x":616.8,"y":316.8},"isFriendlyName":true,"dynamicParams":[]},"d33b48d6-9e7d-423a-a481-5c08a8edc108":{"position":{"x":1175.2,"y":-200},"parameters":{"ContactFlowId":{"displayName":"DTMF_CENTRAL_FLOW"}},"ContactFlow":{"text":"DTMF_CENTRAL_FLOW"}},"Lang1a":{"position":{"x":-858.4,"y":-72},"isFriendlyName":true,"overrideConsoleVoice":false},"39e7074d-a5d9-4c40-b051-b4e9f9eeabea":{"position":{"x":-882.4,"y":368}},"b35e71b3-1601-4e72-9718-30032951d08b":{"position":{"x":-1568,"y":-72}},"7fe6222a-c052-4830-9cdd-b1c36299f1f0":{"position":{"x":-1159.2,"y":-97.6},"parameters":{"LambdaFunctionARN":{"displayName":"iIntervision-language-selection"}},"dynamicMetadata":{}}},"Annotations":[],"name":"DTMF_INBOUND_1","description":"","type":"contactFlow","status":"PUBLISHED","hash":{}},"Actions":[{"Parameters":{"Media":{"Uri":"$.Attributes.prompt2_fre_error","SourceType":"S3","MediaType":"Audio"}},"Identifier":"f20f35d9-9632-462c-b139-b4494d1d98c1","Type":"MessageParticipant","Transitions":{"NextAction":"11a9e785-d995-4524-9680-abb55a68f2e5","Errors":[{"NextAction":"11a9e785-d995-4524-9680-abb55a68f2e5","ErrorType":"NoMatchingError"}]}},{"Parameters":{},"Identifier":"d24bba20-ac5d-4582-a7b0-93440ba7a225","Type":"DisconnectParticipant","Transitions":{}},{"Parameters":{"StoreInput":"False","InputTimeLimitSeconds":"2","SSML":"<speak>\n$.Attributes.prompt1_eng\n</speak>"},"Identifier":"9562a672-8a4a-4fdd-b0ec-0de377ec7960","Type":"GetParticipantInput","Transitions":{"NextAction":"Language2 voice","Conditions":[{"NextAction":"Lang1b","Condition":{"Operator":"Equals","Operands":["1"]}},{"NextAction":"Lang2b","Condition":{"Operator":"Equals","Operands":["2"]}}],"Errors":[{"NextAction":"Language2 voice","ErrorType":"InputTimeLimitExceeded"},{"NextAction":"Language2 voice","ErrorType":"NoMatchingCondition"},{"NextAction":"39e7074d-a5d9-4c40-b051-b4e9f9eeabea","ErrorType":"NoMatchingError"}]}},{"Parameters":{"Media":{"Uri":"$.Attributes.prompt2_fre_error","SourceType":"S3","MediaType":"Audio"}},"Identifier":"f68e3c47-0987-46e4-8de8-2af1db04b520","Type":"MessageParticipant","Transitions":{"NextAction":"11a9e785-d995-4524-9680-abb55a68f2e5","Errors":[{"NextAction":"11a9e785-d995-4524-9680-abb55a68f2e5","ErrorType":"NoMatchingError"}]}},{"Parameters":{"TextToSpeechVoice":"Joanna"},"Identifier":"Lang1b","Type":"UpdateContactTextToSpeechVoice","Transitions":{"NextAction":"Language to use in flow1"}},{"Parameters":{"TextToSpeechVoice":"Mathieu"},"Identifier":"Lang2b","Type":"UpdateContactTextToSpeechVoice","Transitions":{"NextAction":"Language to use in flow2"}},{"Parameters":{"TextToSpeechVoice":"Mathieu"},"Identifier":"Language2 voice","Type":"UpdateContactTextToSpeechVoice","Transitions":{"NextAction":"33ccf42f-2dd5-4a7b-8691-5bb3bce181cb"}},{"Parameters":{"StoreInput":"False","InputTimeLimitSeconds":"2","SSML":"<speak>\n$.Attributes.prompt1_fre\n</speak>"},"Identifier":"33ccf42f-2dd5-4a7b-8691-5bb3bce181cb","Type":"GetParticipantInput","Transitions":{"NextAction":"Lang1a","Conditions":[{"NextAction":"Lang1b","Condition":{"Operator":"Equals","Operands":["1"]}},{"NextAction":"Lang2b","Condition":{"Operator":"Equals","Operands":["2"]}}],"Errors":[{"NextAction":"Lang1a","ErrorType":"InputTimeLimitExceeded"},{"NextAction":"Lang1a","ErrorType":"NoMatchingCondition"},{"NextAction":"f68e3c47-0987-46e4-8de8-2af1db04b520","ErrorType":"NoMatchingError"}]}},{"Parameters":{},"Identifier":"11a9e785-d995-4524-9680-abb55a68f2e5","Type":"DisconnectParticipant","Transitions":{}},{"Parameters":{"Attributes":{"chosen_lang":"1"},"TargetContact":"Current"},"Identifier":"Language to use in flow1","Type":"UpdateContactAttributes","Transitions":{"NextAction":"d33b48d6-9e7d-423a-a481-5c08a8edc108","Errors":[{"NextAction":"f68e3c47-0987-46e4-8de8-2af1db04b520","ErrorType":"NoMatchingError"}]}},{"Parameters":{"Attributes":{"chosen_lang":"2"},"TargetContact":"Current"},"Identifier":"Language to use in flow2","Type":"UpdateContactAttributes","Transitions":{"NextAction":"d33b48d6-9e7d-423a-a481-5c08a8edc108","Errors":[{"NextAction":"f20f35d9-9632-462c-b139-b4494d1d98c1","ErrorType":"NoMatchingError"}]}},{"Parameters":{"ContactFlowId":"arn:aws:connect:us-west-2:525618997575:instance/1849df04-e6e3-4ee0-ba9a-60f9367efcf6/contact-flow/b73fba6a-cad9-4bfc-94ae-b182a7a49912"},"Identifier":"d33b48d6-9e7d-423a-a481-5c08a8edc108","Type":"TransferToFlow","Transitions":{"NextAction":"11a9e785-d995-4524-9680-abb55a68f2e5","Errors":[{"NextAction":"11a9e785-d995-4524-9680-abb55a68f2e5","ErrorType":"NoMatchingError"}]}},{"Parameters":{"TextToSpeechVoice":"Joanna"},"Identifier":"Lang1a","Type":"UpdateContactTextToSpeechVoice","Transitions":{"NextAction":"9562a672-8a4a-4fdd-b0ec-0de377ec7960"}},{"Parameters":{"Text":",<speak> \n$.Attributes.prompt2_eng_error\n</speak>"},"Identifier":"39e7074d-a5d9-4c40-b051-b4e9f9eeabea","Type":"MessageParticipant","Transitions":{"NextAction":"d24bba20-ac5d-4582-a7b0-93440ba7a225","Errors":[{"NextAction":"d24bba20-ac5d-4582-a7b0-93440ba7a225","ErrorType":"NoMatchingError"}]}},{"Parameters":{"Text":"Welcome to Intervision"},"Identifier":"b35e71b3-1601-4e72-9718-30032951d08b","Type":"MessageParticipant","Transitions":{"NextAction":"7fe6222a-c052-4830-9cdd-b1c36299f1f0","Errors":[{"NextAction":"39e7074d-a5d9-4c40-b051-b4e9f9eeabea","ErrorType":"NoMatchingError"}]}},{"Parameters":{"LambdaFunctionARN":"arn:aws:lambda:us-west-2:525618997575:function:iIntervision-language-selection","InvocationTimeLimitSeconds":"5","ResponseValidation":{"ResponseType":"STRING_MAP"}},"Identifier":"7fe6222a-c052-4830-9cdd-b1c36299f1f0","Type":"InvokeLambdaFunction","Transitions":{"NextAction":"Lang1a","Errors":[{"NextAction":"39e7074d-a5d9-4c40-b051-b4e9f9eeabea","ErrorType":"NoMatchingError"}]}}]}